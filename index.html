<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">

    <title>Домашнее задание №1</title>

    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="background.css">
  </head>

  <body>
    <div class="mysite">
	<div class="header"><h1>Мой любимый язык программирования</h1></div>
       <div class="content">
        <!-- Определние C# -->
		<div class="column">
          <h2>Описание языка C#</h2>
          <p>
            C# (произносится как "си шарп") — современный объектно-ориентированный
            и типобезопасный язык программирования. C# позволяет разработчикам создавать 
            разные типы безопасных и надежных приложений, выполняющихся в .NET. C# относится к 
            широко известному семейству языков C, и покажется хорошо знакомым любому, кто работал с C, 
            C++, Java или JavaScript.  
         </p>
          <p>Если вы хотите начать изучение данного прекрасного языка, стоит обратиться к таким ресурсам:</p>
          <ul>
            <li><a href="https://metanit.com/sharp/tutorial/" target="_blank">Сайт METANIT</a></li>
            <li><a href="https://learn.microsoft.com/ru-ru/dotnet/csharp/" target="_blank">Официальная документация</a></li>
            <li><a href="https://github.com/MoienTajik/AspNetCore-Developer-Roadmap" target="_blank">
                   Дорожная карта</a> по изучению C# и стека .Net</li>
          </ul>
        </div>
        <!-- Лого C# -->
		<div class="column">
          <p class="image">
            <img src="Images/Csharp_Logo.png" alt="Логотип" width="300" height="300">
          </p>
        </div>
	   </div>
       <div class="content">
        <!-- Интересные факты C# -->
        <div class="column" style="position: relative; text-align: left;">
          <h2>Интересные факты о C#:</h2>
            <ol>
              <li>Идея создания языка C# зародилась в 1998 году и проект 
                  изначально назывался COOL (C-style Object Oriented Language).
              </li>
              <li>После того как появился язык С#, на сайте The Daily WTF 
                  возник локальный мем и его начали называть «C-POUND», 
                  что вызвало путаницу среди разработчиков: «С-Sharp? C-Hash? C-Pound? C-WHAT?»
              </li>
              <li>До 2004 года у разработчиков C# был талисман по имени Andy.</li>
              <li>Существуют независимые реализации языка C#, 
                  самые известные из них: Xamarin, dotGNU и Portable.NET.
              </li>
            </ol>
        </div>
       </div>
       <div class="content">
        <!-- Опросник -->
        <div class="column">
          <h2>Пройдите небольшой опрос:</h2>
          <p>Почему вы решили изучать C#?</p>
          <form method="post" action="http://localhost/api/survey">
            <p>
              <input type="checkbox" name="C/C++"/> Работал раньше с C/C++
            </p>
            <p>
              <input type="checkbox" name="NotLikeJava"/> Не нравится Java
            </p>
            <p>
              <input type="checkbox" name="Desktop"/> Заинтересован в разработке десктопных приложений
            </p>
            <p>
              <input type="checkbox" name="ForSoul"/> Для души
            </p>
            <p>
              <input type="submit" value="Отправить" />
            </p>
          </form>
        </div>
        <!-- Забавная картинка о C# -->
        <div class="column">
          <h2 style="text-align: center;">Немного юмора</h2>
          <p class="image">
            <img src="Images/Meme.jpg" alt="Meme" width="300" height="250" >
          </p>
        </div>
       </div>  
	   <div class="content">
	    <div class="column">
		 <button id="getCurrExchangeRate">Узнать курс валют</button>
		 <div class="exchange-rate"></div>
	    </div>
	   </div> 
	   <div class="footer">©Copyright 2023 by Mikhail Arkhipov. All rights reversed.</div>
    </div>
	<script>
	var requestCB = new XMLHttpRequest();
	var responseInfo = document.querySelector(".exchange-rate");
	var exchangeRate; 
	document.getElementById("getCurrExchangeRate").addEventListener('click', asyncRequest);
	
	function handlerStateChange() {
            if (requestCB.readyState == 4) {
			var status = requestCB.status;				
			if (status == 200) {
			    exchangeRate = JSON.parse(requestCB.responseText);
				let usd = setValueExchangeRate("USD");
				let eur = setValueExchangeRate("EUR");
				responseInfo.innerHTML += '<p>Текущий курс доллара на сегодняшний день: <b>' + usd + '</b> рублей</p>'
				responseInfo.innerHTML += '<p>Текущий курс евро на сегодняшний день: <b>' + eur + '</b> рублей</p>'
			} else {
			    responseInfo.innerHTML += '<div><b>'+ requestCB.statusText + '</b></div>'
			}
		}
	}
	
	function setValueExchangeRate(currencyName){
	    return new Intl.NumberFormat("ru", {maximumFractionDigits: 2}).format(exchangeRate.Valute[currencyName].Value);
	}
	
	function asyncRequest(){
	    requestCB.onload = handlerStateChange;								
		requestCB.onreadystatechange = null;	
	    requestCB.open("GET", "https://www.cbr-xml-daily.ru/daily_json.js", true);
	    requestCB.send();	 
	}
	</script>
  </body>
</html>
